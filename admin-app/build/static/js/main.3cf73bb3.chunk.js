(this["webpackJsonpadmin-app"]=this["webpackJsonpadmin-app"]||[]).push([[0],{143:function(e,t,n){},144:function(e,t,n){},169:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(0),a=n.n(r),i=n(12),s=n.n(i),o=(n(143),n(220)),l=n(210),j=n(222),u=n(213),d=(n(144),n(9)),b=n.n(d),O=n(18),x=n(17),h=n(69),p=n.n(h),v=p.a.create({baseURL:"https://agile-lake-39533.herokuapp.com"}),f=n(204),m=n(89),g=n(214),y=n(21),w=n(206),k=n(208),S=n(209),C=n(211),E=n(212),_=n(116),N=n.n(_),T=n(84),I=n.n(T),D=Object(f.a)({title:{fontSize:"1.8rem",color:"black",fontWeight:"lighter"}});var z=function(e){var t=e.elections,n=e.goToElectionMenu,r=D();return t.length>0?Object(c.jsxs)(w.a,{children:[Object(c.jsx)(k.a,{}),t.map((function(e,t){return Object(c.jsxs)(S.a,{button:!0,children:[Object(c.jsxs)(l.a,{container:!0,alignItems:"center",children:[Object(c.jsx)(C.a,{children:Object(c.jsx)(N.a,{fontSize:"large",color:"primary"})}),Object(c.jsx)(m.a,{className:r.title,children:e.election_name})]}),Object(c.jsx)(E.a,{children:Object(c.jsx)(u.a,{edge:"end","aria-label":"edit",color:"primary",onClick:function(){return n(e.election_name)},children:Object(c.jsx)(I.a,{fontSize:"large"})})})]},t)}))]}):Object(c.jsx)("div",{children:"There are no elections. Click create elections to start election creator."})},F=Object(f.a)({box:{marginTop:"2%",display:"flex",justifyContent:"center"},title:{fontSize:"1.9rem",fontWeight:"bold"}});var M=function(){var e=Object(r.useState)([]),t=Object(x.a)(e,2),n=t[0],a=t[1],i=Object(y.f)(),s=F(),o=function(){var e=Object(O.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.get("/elections");case 3:t=e.sent,a(t.data),console.log(t),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){o()}),[]),Object(c.jsx)("div",{className:s.box,children:Object(c.jsxs)(l.a,{item:!0,xs:12,md:6,children:[Object(c.jsxs)(l.a,{container:!0,justify:"space-between",alignItems:"center",children:[Object(c.jsx)(m.a,{className:s.title,children:"Elections"}),Object(c.jsx)(g.a,{size:"large",color:"primary",variant:"contained",onClick:function(){i.push("/election/create")},children:"Create Election"})]}),Object(c.jsx)("div",{children:Object(c.jsx)(z,{elections:n,goToElectionMenu:function(e){i.push("/elections/".concat(e))}})})]})})},P=n(170),V=n(16),U=n(46),q=Object(U.b)({name:"voterMenu",initialState:{voter:{username:""},elections:[]},reducers:{setElections:function(e,t){e.elections=t.payload},setVoter:function(e,t){e.voter.username=t.payload}}}),B=q.actions,W=B.setElections,A=B.setVoter,H=function(e,t){return function(){var n=Object(O.a)(b.a.mark((function n(c){var r,a;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,v.get("/voter/".concat(e));case 3:r=n.sent,a=r.data.username,c(A(a)),a||t(),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(0),t(),console.log(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()},R=function(e){return function(){var t=Object(O.a)(b.a.mark((function t(n){var c,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.get("/elections/".concat(e));case 3:c=t.sent,r=c.data,n(W(r)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},L=q.reducer,J=n(60),Y=n.n(J),G=n(61),K=n.n(G),Q=n(85),X=n.n(Q),Z=n(118),$=n.n(Z),ee=Object(f.a)({item:{padding:"8px"},title:{padding:"6px"}});var te=function(e){var t=e.election,n=ee(),a=Object(r.useState)(!1),i=Object(x.a)(a,2),s=i[0],o=i[1];return Object(c.jsx)(S.a,{button:!0,onClick:function(){o(!s)},children:Object(c.jsxs)(l.a,{className:n.item,container:!0,direction:"column",children:[Object(c.jsxs)(l.a,{container:!0,alignItems:"center",justify:"space-between",children:[Object(c.jsx)(l.a,{item:!0,children:Object(c.jsxs)(l.a,{className:n.title,container:!0,alignItems:"center",children:[Object(c.jsx)($.a,{fontSize:"large"}),Object(c.jsx)(m.a,{children:t.election_name})]})}),Object(c.jsx)(l.a,{item:!0,children:s?Object(c.jsx)(Y.a,{}):Object(c.jsx)(K.a,{})})]}),Object(c.jsx)(k.a,{}),s&&Object(c.jsxs)(l.a,{children:[Object(c.jsxs)(m.a,{children:["Description: ",t.election_description]}),Object(c.jsxs)(m.a,{children:["Start date: ",t.start_date]}),Object(c.jsxs)(m.a,{children:["End date: ",t.end_date]})]})]})})};var ne=function(e){var t=e.elections;return Object(c.jsx)("div",{children:t.length>0?t.map((function(e,t){return Object(c.jsx)(te,{election:e},t)})):Object(c.jsx)("div",{children:"User is not assigned to election."})})},ce=Object(f.a)({root:{padding:"8px",width:"70%",minHeight:"60vh"}});var re=function(){var e=ce(),t=Object(y.g)().votername,n=Object(y.f)(),a=Object(V.b)(),i=Object(V.c)((function(e){return e.voter})),s=i.elections,o=i.voter,j=Object(r.useState)(!1),d=Object(x.a)(j,2),h=d[0],p=d[1],v=function(){n.goBack()},f=function(){var e=Object(O.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(H(t,v)),a(R(t));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){f()}),[]),Object(c.jsx)("div",{style:{padding:"8px",display:"flex",justifyContent:"center"},children:Object(c.jsx)(P.a,{className:e.root,children:Object(c.jsxs)(l.a,{container:!0,direction:"column",children:[Object(c.jsxs)(l.a,{container:!0,alignItems:"center",children:[Object(c.jsx)(X.a,{fontSize:"large"}),Object(c.jsx)(m.a,{variant:"h6",children:o.username})]}),Object(c.jsx)(k.a,{}),Object(c.jsxs)("div",{children:[Object(c.jsxs)(l.a,{container:!0,justify:"space-between",alignItems:"center",children:[Object(c.jsx)(m.a,{children:"Elections"}),Object(c.jsx)(u.a,{onClick:function(){p(!h)},children:h?Object(c.jsx)(Y.a,{}):Object(c.jsx)(K.a,{})})]}),Object(c.jsx)(k.a,{}),h&&Object(c.jsx)(w.a,{children:Object(c.jsx)(ne,{elections:s})})]})]})})})},ae=n(62),ie=n(28),se=n(228),oe=n(223),le=n(217),je=n(119),ue=n.n(je),de=n(120),be=n.n(de),Oe=Object(f.a)({container:{padding:"12px",minHeight:"35vh",minWidth:"20vw"},title:{textAlign:"center"},progressBar:{textAlign:"center"},successBtn:{backgroundColor:"green"},failureBtn:{background:"red"}}),xe=function(e){var t=e.open,n=e.handleClose,a=Object(r.useState)({username:"",password:"",confirmPassword:""}),i=Object(x.a)(a,2),s=i[0],o=i[1],j=Object(r.useState)(!1),u=Object(x.a)(j,2),d=u[0],h=u[1],p=Object(r.useState)({isSuccess:!1,isTouched:!1}),f=Object(x.a)(p,2),y=f[0],w=f[1],k=Oe(),S=function(e){o(Object(ie.a)(Object(ie.a)({},s),{},Object(ae.a)({},e.target.name,e.target.value)))},C=function(){var e=Object(O.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.prev=1,t=s.username,n=s.password,e.next=5,v.post("/voter",{username:t,password:n});case 5:e.sent,h(!1),o({username:"",password:"",confirmPassword:""}),h(!1),w({isSuccess:!1,isTouched:!1}),w({isTouched:!0,isSuccess:!0}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),h(!1),w({isTouched:!0,isSuccess:!1});case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}();return Object(c.jsx)(se.a,{open:t,keepMounted:!0,onClose:n,children:Object(c.jsx)(P.a,{children:Object(c.jsx)("form",{onSubmit:function(e){e.preventDefault();var t=s.username,n=s.password,c=s.confirmPassword;t&&n&&c&&n===c&&C()},children:Object(c.jsxs)(l.a,{className:k.container,container:!0,direction:"column",justify:"space-evenly",children:[Object(c.jsx)(m.a,{className:k.title,children:"Register voter"}),Object(c.jsx)(oe.a,{onChange:S,value:s.username,variant:"outlined",label:"Username",name:"username",required:!0,type:"text"}),Object(c.jsx)(oe.a,{onChange:S,value:s.password,variant:"outlined",label:"Password",name:"password",required:!0,type:"password"}),Object(c.jsx)(oe.a,{onChange:S,value:s.confirmPassword,variant:"outlined",label:"Confirm password",name:"confirmPassword",required:!0,type:"password"}),d?Object(c.jsx)("div",{className:k.progressBar,children:Object(c.jsx)(le.a,{})}):Object(c.jsxs)(g.a,{variant:"contained",color:"primary",type:"submit",className:y.isTouched?y.isSuccess?k.successBtn:k.failureBtn:"",children:[y.isTouched?y.isSuccess?Object(c.jsx)(ue.a,{}):Object(c.jsx)(be.a,{}):"","Submit"]})]})})})})},he=Object(f.a)({title:{fontSize:"1.8rem",color:"black",fontWeight:"lighter"}});var pe=function(e){var t=e.voters,n=e.goToVoterMenu,r=he();return Object(c.jsxs)(w.a,{children:[Object(c.jsx)(k.a,{}),t.length>0?t.map((function(e,t){return Object(c.jsxs)(S.a,{button:!0,children:[Object(c.jsxs)(l.a,{container:!0,alignItems:"center",children:[Object(c.jsx)(C.a,{children:Object(c.jsx)(X.a,{fontSize:"large",color:"primary"})}),Object(c.jsx)(m.a,{className:r.title,children:e.username})]}),Object(c.jsx)(E.a,{children:Object(c.jsx)(u.a,{edge:"end","aria-label":"edit",color:"primary",onClick:function(){return n(e.username)},children:Object(c.jsx)(I.a,{fontSize:"large"})})})]},t)})):Object(c.jsx)("div",{children:"There are no voters in database. Click create voter to open voter creator."})]})},ve=Object(f.a)({root:{marginTop:"2%",display:"flex",justifyContent:"center"},title:{fontSize:"1.9rem",fontWeight:"bold"}});var fe=function(){var e=Object(r.useState)([]),t=Object(x.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)(!1),s=Object(x.a)(i,2),o=s[0],j=s[1],u=Object(y.f)(),d=ve(),h=function(){var e=Object(O.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.get("/voters");case 3:t=e.sent,a(t.data),console.log(t),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){h()}),[]),Object(c.jsx)("div",{className:d.root,children:Object(c.jsxs)(l.a,{item:!0,xs:12,md:6,children:[Object(c.jsxs)(l.a,{container:!0,justify:"space-between",alignItems:"center",children:[Object(c.jsx)(m.a,{className:d.title,children:"Voters"}),Object(c.jsx)(g.a,{size:"large",variant:"contained",color:"primary",onClick:function(){j(!0)},children:"Create Voter"})]}),Object(c.jsx)("div",{children:Object(c.jsx)(pe,{voters:n,goToVoterMenu:function(e){u.push("/voters/".concat(e))}})}),Object(c.jsx)(xe,{open:o,handleClose:function(){j(!1),h()}})]})})},me=n(45),ge=n(229),ye=n(218),we=n(227),ke=n(123),Se=n.n(ke),Ce=n(124),Ee=n.n(Ce),_e=n(68),Ne=n(99),Te=n.n(Ne),Ie=Object(U.b)({name:"electionsForm",initialState:{electionFormState:{election_name:"",election_description:"",start_date:"",end_date:"",server_url:""},errors:{titleError:!1,startDateError:!1,endDateError:!1,serverUrlError:!1},candidates:[{candidate_name:"",candidate_description:""}],voters:[],checked:[]},reducers:{setElectionFormState:function(e,t){e.electionFormState=t.payload},setCandidates:function(e,t){e.candidates=t.payload},setVoters:function(e,t){e.voters=t.payload,e.checked=t.payload.length},setTitleError:function(e,t){e.errors.titleError=t.payload},setStartDateError:function(e,t){e.errors.startDateError=t.payload},setEndDateError:function(e,t){e.errors.endDateError=t.payload},setServerUrlError:function(e,t){e.errors.serverUrlError=t.payload}}}),De=Ie.actions,ze=De.setElectionFormState,Fe=De.setCandidates,Me=De.setVoters,Pe=De.setTitleError,Ve=De.setStartDateError,Ue=De.setEndDateError,qe=De.setServerUrlError,Be=Ie.reducer;var We=function(e){var t=e.next,n=e.previous,r=Object(V.c)((function(e){return e.election.candidates})),a=Object(V.b)(),i={candidates:r};return Object(c.jsx)(l.a,{container:!0,direction:"column",alignItems:"center",children:Object(c.jsx)(_e.d,{initialValues:i,onSubmit:function(e){console.log(e.candidates),a(Fe(e.candidates)),t()},children:function(e){var t=e.values;return Object(c.jsxs)(_e.c,{children:[Object(c.jsx)(_e.b,{name:"candidates",children:function(e){var n=e.remove,r=e.push;return Object(c.jsxs)(l.a,{container:!0,direction:"column",children:[t.candidates.map((function(e,t){return Object(c.jsxs)(l.a,{container:!0,justify:"space-evenly",alignItems:"center",children:[Object(c.jsxs)(l.a,{container:!0,direction:"column",children:[Object(c.jsx)(_e.a,{name:"candidates.".concat(t,".candidate_name")}),Object(c.jsx)(_e.a,{name:"candidates.".concat(t,".candidate_description")})]}),Object(c.jsx)(g.a,{onClick:function(){return n(t)},children:Object(c.jsx)(Se.a,{})})]})})),Object(c.jsx)(g.a,{onClick:function(){return r({candidate_name:"",candidate_description:""})},children:Object(c.jsx)(Ee.a,{})})]})}}),Object(c.jsxs)(l.a,{container:!0,justify:"center",children:[Object(c.jsx)(g.a,{onClick:n,children:"Previous"}),Object(c.jsx)(g.a,{type:"submit",children:"Next"})]})]})}})})},Ae=n(216);var He=function(e){var t=e.previous,n=Object(V.b)(),a=Object(V.c)((function(e){return e.election})),i=a.electionFormState,s=a.candidates,o=a.voters;Object(r.useEffect)((function(){n(function(){var e=Object(O.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.get("/voters");case 3:n=e.sent,t(Me(n.data)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())}),[]);var j=function(){var e=Object(O.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.post("/election",{election:i,candidates:s,voters:o});case 3:t=e.sent,console.log(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(c.jsx)("div",{children:Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log(i,s,o),j()},children:[Object(c.jsx)(g.a,{children:"Add all"}),o.map((function(e,t){return Object(c.jsxs)(l.a,{container:!0,justify:"center",alignItems:"center",children:[Object(c.jsx)("p",{children:e.username}),Object(c.jsx)(Ae.a,{type:"checkbox"})]})})),Object(c.jsxs)(l.a,{children:[Object(c.jsx)(g.a,{onClick:t,children:"Previous"}),Object(c.jsx)(g.a,{type:"submit",children:"Submit"})]})]})})},Re=n(224),Le=Object(f.a)({firstContainer:{padding:"10px",height:"20vh",width:"60%"},secondContainer:{padding:"10px",height:"30vh",width:"60%"}});var Je=function(e){var t=e.next,n=Le(),r=Object(V.b)(),a=Object(V.c)((function(e){return e.election.electionFormState})),i=Object(V.c)((function(e){return e.election.errors})),s=i.titleError,o=i.endDateError,j=i.startDateError,u=i.serverUrlError,d=function(e){r(ze(Object(ie.a)(Object(ie.a)({},a),{},Object(ae.a)({},e.target.name,e.target.value))))};return Object(c.jsx)("form",{onSubmit:function(e){var n,c,i,l;e.preventDefault(),r((n=a.election_name,function(){var e=Object(O.a)(b.a.mark((function e(t){var c,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.get("/election/".concat(n));case 3:c=e.sent,r=c.data,t(Pe(""!==r)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())),r((c=a.start_date,i=a.end_date,function(e){var t=Te()(c);Te()(i)<=t?(e(Ue(!0)),e(Ve(!0))):(e(Ue(!1)),e(Ve(!1)))})),r((l=a.server_url,function(){var e=Object(O.a)(b.a.mark((function e(t){var n,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.get("/serverUrl/?serverUrl=".concat(l));case 3:n=e.sent,c=n.data,t(qe(""!==c)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())),s||o||j||u||t()},children:Object(c.jsxs)(Re.a,{padding:"12px",display:"flex",flexDirection:"column",alignItems:"center",children:[Object(c.jsxs)(l.a,{className:n.firstContainer,container:!0,direction:"column",justify:"space-evenly",children:[Object(c.jsx)(oe.a,{onChange:d,name:"election_name",value:a.election_name,type:"text",error:s,helperText:s&&"Election with provided title already exists.",variant:"outlined",label:"Elections title",required:!0}),Object(c.jsx)(oe.a,{onChange:d,name:"election_description",value:a.election_description,type:"text",variant:"outlined",label:"Description",required:!0})]}),Object(c.jsx)(k.a,{}),Object(c.jsxs)(l.a,{className:n.secondContainer,container:!0,direction:"column",justify:"space-evenly",children:[Object(c.jsx)(oe.a,{onChange:d,name:"start_date",value:a.start_date,variant:"outlined",label:"Start date",type:"date",error:j,helperText:j&&"You provided wrong date.",required:!0,InputLabelProps:{shrink:!0}}),Object(c.jsx)(oe.a,{onChange:d,name:"end_date",value:a.end_date,variant:"outlined",label:"End date",type:"date",error:o,helperText:o&&"You provided wrong date.",required:!0,InputLabelProps:{shrink:!0}}),Object(c.jsx)(oe.a,{onChange:d,name:"server_url",value:a.server_url,type:"text",variant:"outlined",label:"Server url",error:u,helperText:u&&"Server with this url already exists.",required:!0})]}),Object(c.jsx)(l.a,{container:!0,justify:"center",children:Object(c.jsx)(g.a,{variant:"contained",type:"submit",size:"large",color:"primary",children:"Check and proceed further"})})]})})};var Ye=function(){var e=Object(r.useState)(0),t=Object(x.a)(e,2),n=t[0],a=t[1],i=function(){n>0&&a(n-1)},s=function(){n<2&&a(n+1)};return Object(c.jsxs)("div",{children:[Object(c.jsx)(ge.a,{activeStep:n,children:["Provide elections informations.","Add candidates.","Add voters."].map((function(e,t){return Object(c.jsx)(ye.a,{children:Object(c.jsx)(we.a,{children:e})},e)}))}),function(e){switch(e){case 0:return Object(c.jsx)(Je,{next:s});case 1:return Object(c.jsx)(We,{next:s,previous:i});case 2:return Object(c.jsx)(He,{previous:i});default:return"Unknown step."}}(n)]})},Ge=Object(f.a)({root:{backgroundColor:"#3f51b5",width:"100%",minHeight:"20vh",color:"white"}});var Ke=function(){var e=Ge();return Object(c.jsx)("div",{className:e.root,children:"footer"})},Qe=Object(f.a)({root:{minHeight:"80vh"}});var Xe=function(e){var t=e.children,n=Qe();return Object(c.jsx)("div",{className:n.root,children:t})},Ze=n(225),$e=n(221),et=n(126);function tt(e){var t=e.children,n=e.value,r=e.index,a=Object(et.a)(e,["children","value","index"]);return Object(c.jsx)("div",Object(ie.a)(Object(ie.a)({role:"tabpanel",hidden:n!==r,id:"simple-tabpanel-".concat(r),"aria-labelledby":"simple-tab-".concat(r)},a),{},{children:n===r&&Object(c.jsx)(Re.a,{p:3,children:Object(c.jsx)(m.a,{children:t})})}))}function nt(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var ct=Object(U.b)({name:"electionManager",initialState:{election:{election_name:"",election_description:"",server_url:"",is_published:""},candidates:[],voters:[],results:[]},reducers:{setElection:function(e,t){e.election=t.payload},setCandidates:function(e,t){e.candidates=t.payload},setVoters:function(e,t){e.voters=t.payload},setResults:function(e,t){e.results=t.payload}}}),rt=ct.actions,at=rt.setElection,it=rt.setCandidates,st=rt.setVoters,ot=rt.setResults,lt=ct.reducer,jt=Object(f.a)({root:{marginTop:"2%"},container:{minWidth:"80%"},electionInfoContainer:{padding:"10px",minHeight:"30vh"},title:{fontSize:"2rem"},subTitle:{fontSize:"1.6rem"}});var ut=function(e){var t=e.electionName,n=jt(),a=Object(V.b)(),i=Object(V.c)((function(e){return e.electionManager})).election;return Object(r.useEffect)((function(){a(function(e){return function(){var t=Object(O.a)(b.a.mark((function t(n){var c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.get("/election/".concat(e));case 3:c=t.sent,n(at(c.data)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(t))}),[]),Object(c.jsx)(l.a,{className:n.container,children:Object(c.jsxs)(l.a,{className:n.electionInfoContainer,container:!0,direction:"column",justify:"space-evenly",children:[Object(c.jsx)(m.a,{className:n.title,variant:"h1",children:i.election_name}),Object(c.jsx)(k.a,{}),Object(c.jsx)(m.a,{className:n.subTitle,variant:"h2",children:i.election_description}),Object(c.jsx)(oe.a,{variant:"outlined",label:"Server url",disabled:!0,value:i.server_url}),Object(c.jsx)(g.a,{variant:"contained",color:"primary",children:"Change url"})]})})},dt=n(230),bt=n(219);var Ot=function(e){var t=e.electionName,n=Object(V.b)(),a=Object(V.c)((function(e){return e.electionManager})).voters;return Object(r.useEffect)((function(){n(function(e){return function(){var t=Object(O.a)(b.a.mark((function t(n){var c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.get("/voters/".concat(e));case 3:c=t.sent,n(st(c.data)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(t))}),[]),Object(c.jsx)("div",{children:Object(c.jsx)(w.a,{children:a.length>0?a.map((function(e,t){return Object(c.jsxs)(S.a,{children:[Object(c.jsx)(C.a,{children:Object(c.jsx)(dt.a,{})}),Object(c.jsx)(bt.a,{primary:e.username})]},t)})):Object(c.jsx)("div",{children:"none"})})})};var xt=function(e){var t=e.electionName,n=Object(V.b)(),a=Object(V.c)((function(e){return e.electionManager})).candidates;return Object(r.useEffect)((function(){n(function(e){return function(){var t=Object(O.a)(b.a.mark((function t(n){var c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.get("/candidates/".concat(e));case 3:c=t.sent,n(it(c.data)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(t))}),[]),Object(c.jsx)("div",{children:Object(c.jsx)(w.a,{children:a.length>0?a.map((function(e,t){return Object(c.jsxs)(S.a,{children:[Object(c.jsx)(C.a,{children:Object(c.jsx)(dt.a,{})}),Object(c.jsx)(bt.a,{primary:e.candidate_name})]},t)})):Object(c.jsx)("div",{children:"none"})})})},ht=n(58),pt=n(14),vt=function(e){var t=e.data;return Object(c.jsx)("div",{style:{width:"100%"},children:Object(c.jsxs)(ht.c,{data:t,children:[Object(c.jsx)(ht.a,{}),Object(c.jsx)(ht.f,{}),Object(c.jsx)(ht.b,{color:"#3f51b5",valueField:"voteCounter",argumentField:"candidate_name",name:"Candidate"}),Object(c.jsx)(ht.d,{text:"Election result."}),Object(c.jsx)(pt.e,{}),Object(c.jsx)(ht.e,{})]})})};var ft=function(e){var t=e.electionName,n=Object(V.b)(),a=Object(V.c)((function(e){return e.electionManager})),i=a.election,s=a.results;return Object(r.useEffect)((function(){i.is_published&&n(function(e){return function(){var t=Object(O.a)(b.a.mark((function t(n){var c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.get("/score/".concat(e));case 3:c=t.sent,n(ot(c.data)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(t))}),[n,i.is_published]),Object(c.jsx)("div",{children:i.is_published?Object(c.jsx)("div",{children:s.length>0&&Object(c.jsx)(vt,{data:s})}):Object(c.jsx)(l.a,{style:{height:"60vh"},container:!0,direction:"column",justify:"center",alignItems:"center",children:Object(c.jsx)(g.a,{onClick:function(){n(function(e){return function(){var t=Object(O.a)(b.a.mark((function t(n){var c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.post("/election/publish",{electionName:e});case 3:return t.sent,t.next=6,v.get("/election/".concat(e));case 6:c=t.sent,n(at(c.data)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(t))},color:"primary",variant:"contained",children:"Publish results"})})})},mt=Object(f.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper}}}));var gt=function(){var e=mt(),t=a.a.useState(0),n=Object(x.a)(t,2),r=n[0],i=n[1],s=Object(y.g)().electionName;return Object(c.jsxs)("div",{className:e.root,children:[Object(c.jsx)(o.a,{position:"static",elevation:0,children:Object(c.jsxs)(Ze.a,{value:r,onChange:function(e,t){i(t)},"aria-label":"simple tabs example",children:[Object(c.jsx)($e.a,Object(ie.a)({label:"Status"},nt(0))),Object(c.jsx)($e.a,Object(ie.a)({label:"Voters"},nt(1))),Object(c.jsx)($e.a,Object(ie.a)({label:"Candidates"},nt(2))),Object(c.jsx)($e.a,Object(ie.a)({label:"Results"},nt(2)))]})}),Object(c.jsx)(tt,{value:r,index:0,children:Object(c.jsx)(ut,{electionName:s})}),Object(c.jsx)(tt,{value:r,index:1,children:Object(c.jsx)(Ot,{electionName:s})}),Object(c.jsx)(tt,{value:r,index:2,children:Object(c.jsx)(xt,{electionName:s})}),Object(c.jsx)(tt,{value:r,index:3,children:Object(c.jsx)(ft,{electionName:s})})]})},yt=Object(f.a)({item:{width:"70vw"}});var wt=function(e){var t=e.peers,n=yt(),a=Object(r.useState)(!1),i=Object(x.a)(a,2),s=i[0],o=i[1];return Object(c.jsxs)(l.a,{className:n.item,children:[Object(c.jsxs)(l.a,{container:!0,justify:"space-between",alignItems:"center",children:[Object(c.jsx)(m.a,{children:"Peers"}),Object(c.jsx)(g.a,{onClick:function(){o(!s)},children:s?Object(c.jsx)(Y.a,{}):Object(c.jsx)(K.a,{})})]}),Object(c.jsx)(k.a,{}),s&&Object(c.jsx)(w.a,{children:t.length>0&&t.map((function(e,t){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(S.a,{button:!0,children:Object(c.jsx)(m.a,{children:e})},t),Object(c.jsx)(k.a,{})]})}))})]})},kt=Object(f.a)({root:{margin:"2% 0"},container:{minWidth:"70vw"},textField:{width:"60vw"},success:{color:"black",backgroundColor:"green"},failure:{color:"black",backgroundColor:"red"}});var St=function(){var e=kt(),t=Object(r.useState)(""),n=Object(x.a)(t,2),a=n[0],i=n[1],s=Object(r.useState)({touched:!1,result:!1}),o=Object(x.a)(s,2),j=o[0],u=o[1],d=Object(r.useState)([]),h=Object(x.a)(d,2),v=h[0],f=h[1],y=function(){var e=Object(O.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("".concat(a,"/ping"));case 3:return e.sent,u({touched:!0,result:!0}),e.next=7,p.a.get("".concat(a,"/peers"));case 7:t=e.sent,f(t.data),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),u({touched:!0,result:!1});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return Object(c.jsxs)(l.a,{className:e.root,container:!0,justify:"center",children:[Object(c.jsx)(m.a,{variant:"h3",children:"Find blockchain network."}),Object(c.jsxs)(l.a,{container:!0,direction:"column",alignItems:"center",children:[Object(c.jsx)("form",{children:Object(c.jsxs)(l.a,{className:e.container,container:!0,alignItems:"center",justify:"space-between",children:[Object(c.jsx)(oe.a,{className:e.textField,onChange:function(e){i(e.target.value)},value:a,variant:"outlined",label:"Server url",required:!0,error:!!j.touched&&!j.result,helperText:j.touched?j.result?"":"Server is not available.":""}),Object(c.jsx)(g.a,{onClick:function(){y()},color:"primary",variant:"contained",className:j.touched?j.result?e.success:e.failure:"",children:"Check"})]})}),j.touched&&j.result&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(wt,{peers:v}),Object(c.jsxs)(l.a,{container:!0,justify:"center",alignItems:"center",children:[Object(c.jsx)(oe.a,{variant:"outlined"}),Object(c.jsx)(g.a,{color:"primary",variant:"contained",children:"Connect"})]})]})]})]})},Ct=Object(f.a)({link:{display:"flex",justifyContent:"space-evenly",alignItems:"center",fontSize:"1.3rem","& button":{color:"white"},"& a":{textDecoration:"none"}}});var Et=function(){var e=Ct();return Object(c.jsxs)("div",{children:[Object(c.jsxs)(me.a,{children:[Object(c.jsx)(o.a,{position:"static",children:Object(c.jsxs)(l.a,{container:!0,justify:"space-between",children:[Object(c.jsxs)(j.a,{className:e.link,children:[Object(c.jsx)(me.b,{to:"/voters",children:Object(c.jsx)(u.a,{children:"Voters"})}),Object(c.jsx)(me.b,{to:"/elections",children:Object(c.jsx)(u.a,{children:"Elections"})}),Object(c.jsx)(me.b,{to:"/servers",children:Object(c.jsx)(u.a,{children:"Servers"})})]}),Object(c.jsx)(u.a,{children:"Logout"})]})}),Object(c.jsx)(Xe,{children:Object(c.jsxs)(y.c,{children:[Object(c.jsx)(y.a,{exact:!0,path:"/voters",children:Object(c.jsx)(fe,{})}),Object(c.jsx)(y.a,{exact:!0,path:"/elections",children:Object(c.jsx)(M,{})}),Object(c.jsx)(y.a,{path:"/servers",children:Object(c.jsx)(St,{})}),Object(c.jsx)(y.a,{path:"/voters/:votername",children:Object(c.jsx)(re,{})}),Object(c.jsx)(y.a,{path:"/elections/:electionName",children:Object(c.jsx)(gt,{})}),Object(c.jsx)(y.a,{path:"/election/create",children:Object(c.jsx)(Ye,{})})]})})]}),Object(c.jsx)(Ke,{})]})},_t=n(38),Nt=Object(_t.c)({electionManager:lt,election:Be,voter:L}),Tt=Object(U.a)({reducer:Nt});s.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(V.a,{store:Tt,children:Object(c.jsx)(Et,{})})}),document.getElementById("root"))}},[[169,1,2]]]);
//# sourceMappingURL=main.3cf73bb3.chunk.js.map